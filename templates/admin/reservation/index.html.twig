{# templates/admin/reservation/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Gestion des Réservations{% endblock %}

{% block body %}
<h1>Gestion des Réservations</h1>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Email</th>
            <th>Téléphone</th>
            <th>Date</th>
            <th>Heure</th>
            <th>Nombre de personnes</th>
            <th>Demandes spéciales</th>
            <th>Confirmée</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for reservation in reservations %}
        <tr>
            <td>{{ reservation.id }}</td>
            <td>{{ reservation.name }}</td>
            <td>{{ reservation.firstname }}</td>
            <td>{{ reservation.email }}</td>
            <td>{{ reservation.phone }}</td>
            <td>{{ reservation.date|date('Y-m-d') }}</td>
            <td>{{ reservation.time }}</td>
            <td>{{ reservation.number_of_persons }}</td>
            <td>{{ reservation.special_requests }}</td>
            <td>{{ reservation.isConfirmed ? 'Oui' : 'Non' }}</td>
            <td>
                {% if not reservation.isConfirmed %}
                <a href="{{ path('admin_reservation_confirm', {id: reservation.id}) }}">Confirmer</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
