<!-- templates/menu_items/index.html.twig -->

<div class="contenu">
    <div class="box" data-category="Salades">
        <div class="imbox">
            <img src="{{ asset('assets/images/salade/hmiss.jpeg') }}" alt="Salades">
        </div>
        <div class="text">
            <h3>Nos Salades</h3>
        </div>
    </div>
    <div class="box" data-category="Boureks">
        <div class="imbox">
            <img src="{{ asset('assets/images/entree/bourek-annabi.jpg') }}" alt="Boureks">
        </div>
        <div class="text">
            <h3>Nos Boureks</h3>
        </div>
    </div>
    <!-- Repeat for other categories -->
</div>

<!-- Div to display the menu items -->
<div id="menu-items-container"></div>

<script>
    document.querySelectorAll('.box').forEach(function (box) {
        box.addEventListener('click', function () {
            const category = this.dataset.category;

            fetch(`/menu/items/${category}`)
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('menu-items-container');
                    container.innerHTML = ''; // Clear existing content

                    data.forEach(item => {
                        const itemElement = document.createElement('div');
                        itemElement.classList.add('menu-item');
                        itemElement.innerHTML = `
                            <h4>${item.name}</h4>
                            <p>${item.description}</p>
                            <span class="price">${item.price}â‚¬</span>
                        `;
                        container.appendChild(itemElement);
                    });
                });
        });
    });
</script>
